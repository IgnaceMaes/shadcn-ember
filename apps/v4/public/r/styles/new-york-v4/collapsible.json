{
  "$schema": "https://shadcn-ember.com/schema/registry-item.json",
  "name": "collapsible",
  "type": "registry:ui",
  "files": [
    {
      "path": "registry/new-york-v4/ui/collapsible.gts",
      "content": "import { on } from '@ember/modifier';\nimport { guidFor } from '@ember/object/internals';\nimport Component from '@glimmer/component';\nimport { tracked } from '@glimmer/tracking';\nimport { provide, consume } from 'ember-provide-consume-context';\n\nconst CollapsibleContext = 'collapsible-context' as const;\n\ninterface CollapsibleContextValue {\n  open: boolean;\n  contentId: string;\n  disabled?: boolean;\n  onOpenToggle: () => void;\n}\n\ninterface ContextRegistry {\n  [CollapsibleContext]: CollapsibleContextValue;\n}\n\ninterface CollapsibleSignature {\n  Element: HTMLDivElement;\n  Args: {\n    defaultOpen?: boolean;\n    open?: boolean;\n    onOpenChange?: (open: boolean) => void;\n    disabled?: boolean;\n  };\n  Blocks: {\n    default: [];\n  };\n}\n\nclass Collapsible extends Component<CollapsibleSignature> {\n  @tracked currentOpen?: boolean;\n  contentId = `collapsible-content-${guidFor(this)}`;\n\n  get open() {\n    return this.args.open ?? this.currentOpen ?? this.args.defaultOpen ?? false;\n  }\n\n  get disabled() {\n    return this.args.disabled;\n  }\n\n  onOpenToggle = () => {\n    if (!this.disabled) {\n      const newOpen = !this.open;\n      this.currentOpen = newOpen;\n      this.args.onOpenChange?.(newOpen);\n    }\n  };\n\n  get dataState() {\n    return this.open ? 'open' : 'closed';\n  }\n\n  @provide(CollapsibleContext)\n  get context(): CollapsibleContextValue {\n    return {\n      open: this.open,\n      contentId: this.contentId,\n      disabled: this.disabled,\n      onOpenToggle: this.onOpenToggle,\n    };\n  }\n\n  <template>\n    <div\n      data-disabled={{if this.disabled \"\" undefined}}\n      data-slot=\"collapsible\"\n      data-state={{this.dataState}}\n      ...attributes\n    >\n      {{yield}}\n    </div>\n  </template>\n}\n\ninterface CollapsibleTriggerSignature {\n  Element: HTMLButtonElement;\n  Args: {\n    class?: string;\n    asChild?: boolean;\n  };\n  Blocks: {\n    default: [\n      {\n        onClick: () => void;\n        'aria-controls': string;\n        'aria-expanded': string;\n        'data-state': string;\n        'data-slot': string;\n        'data-disabled'?: string;\n        disabled?: boolean;\n      },\n    ];\n  };\n}\n\nclass CollapsibleTrigger extends Component<CollapsibleTriggerSignature> {\n  @consume(CollapsibleContext)\n  context!: ContextRegistry[typeof CollapsibleContext];\n\n  get dataState() {\n    return this.context.open ? 'open' : 'closed';\n  }\n\n  get triggerProps() {\n    return {\n      onClick: this.context.onOpenToggle,\n      'aria-controls': this.context.contentId,\n      'aria-expanded': this.context.open ? 'true' : 'false',\n      'data-state': this.dataState,\n      'data-slot': 'collapsible-trigger' as const,\n      'data-disabled': this.context.disabled ? '' : undefined,\n      disabled: this.context.disabled,\n    };\n  }\n\n  <template>\n    {{#if @asChild}}\n      {{yield this.triggerProps}}\n    {{else}}\n      <button\n        aria-controls={{this.context.contentId}}\n        aria-expanded={{if this.context.open \"true\" \"false\"}}\n        class={{@class}}\n        data-disabled={{if this.context.disabled \"\" undefined}}\n        data-slot=\"collapsible-trigger\"\n        data-state={{this.dataState}}\n        disabled={{this.context.disabled}}\n        type=\"button\"\n        {{on \"click\" this.context.onOpenToggle}}\n        ...attributes\n      >\n        {{yield}}\n      </button>\n    {{/if}}\n  </template>\n}\n\ninterface CollapsibleContentSignature {\n  Element: HTMLDivElement;\n  Args: {\n    class?: string;\n    forceMount?: boolean;\n  };\n  Blocks: {\n    default: [];\n  };\n}\n\nclass CollapsibleContent extends Component<CollapsibleContentSignature> {\n  @consume(CollapsibleContext)\n  context!: ContextRegistry[typeof CollapsibleContext];\n\n  get dataState() {\n    return this.context.open ? 'open' : 'closed';\n  }\n\n  get isOpen() {\n    return this.args.forceMount || this.context.open;\n  }\n\n  <template>\n    <div\n      class={{@class}}\n      data-disabled={{if this.context.disabled \"\" undefined}}\n      data-slot=\"collapsible-content\"\n      data-state={{this.dataState}}\n      hidden={{unless this.isOpen true}}\n      id={{this.context.contentId}}\n      ...attributes\n    >\n      {{#if this.isOpen}}\n        {{yield}}\n      {{/if}}\n    </div>\n  </template>\n}\n\nexport { Collapsible, CollapsibleTrigger, CollapsibleContent };\n",
      "type": "registry:ui"
    }
  ]
}
