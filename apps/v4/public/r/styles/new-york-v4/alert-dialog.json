{
  "$schema": "https://shadcn-ember.com/schema/registry-item.json",
  "name": "alert-dialog",
  "type": "registry:ui",
  "dependencies": ["ember-modifier", "ember-provide-consume-context"],
  "files": [
    {
      "path": "registry/new-york-v4/ui/alert-dialog.gts",
      "content": "import { hash } from '@ember/helper';\nimport { on } from '@ember/modifier';\nimport Component from '@glimmer/component';\nimport { tracked } from '@glimmer/tracking';\nimport { modifier } from 'ember-modifier';\nimport { provide, consume } from 'ember-provide-consume-context';\n\nimport { cn } from '@/lib/utils';\n\nimport type { TOC } from '@ember/component/template-only';\n\nconst AlertDialogContext = 'alert-dialog-context' as const;\n\ninterface AlertDialogContextValue {\n  open: boolean;\n  isRendered: boolean;\n  setOpen: (open: boolean) => void;\n  finishClose: () => void;\n}\n\ninterface ContextRegistry {\n  [AlertDialogContext]: AlertDialogContextValue;\n}\n\ninterface AlertDialogSignature {\n  Args: {\n    open?: boolean;\n    onOpenChange?: (open: boolean) => void;\n    class?: string;\n  };\n  Blocks: {\n    default: [];\n  };\n  Element: HTMLDivElement;\n}\n\nclass AlertDialog extends Component<AlertDialogSignature> {\n  @tracked isOpen = false;\n  @tracked isOpenOrClosing = false;\n\n  get open() {\n    return this.args.open ?? this.isOpen;\n  }\n\n  get isRendered() {\n    return this.open || this.isOpenOrClosing;\n  }\n\n  setOpen = (open: boolean) => {\n    if (open) {\n      this.isOpenOrClosing = true;\n      this.isOpen = true;\n    } else {\n      this.isOpen = false;\n    }\n    this.args.onOpenChange?.(open);\n  };\n\n  finishClose = () => {\n    if (!this.open) {\n      this.isOpenOrClosing = false;\n    }\n  };\n\n  @provide(AlertDialogContext)\n  get context(): AlertDialogContextValue {\n    return {\n      open: this.open,\n      isRendered: this.isRendered,\n      setOpen: this.setOpen,\n      finishClose: this.finishClose,\n    };\n  }\n\n  <template>\n    <div class={{cn @class}} data-slot=\"alert-dialog\" ...attributes>\n      {{yield}}\n    </div>\n  </template>\n}\n\ninterface AlertDialogTriggerSignature {\n  Element: HTMLButtonElement;\n  Args: {\n    class?: string;\n    asChild?: boolean;\n  };\n  Blocks: {\n    default: [];\n  };\n}\n\nclass AlertDialogTrigger extends Component<AlertDialogTriggerSignature> {\n  @consume(AlertDialogContext)\n  context!: ContextRegistry[typeof AlertDialogContext];\n\n  handleClick = (event: MouseEvent) => {\n    event.preventDefault();\n    this.context.setOpen(true);\n  };\n\n  <template>\n    {{#if @asChild}}\n      {{yield (hash)}}\n    {{else}}\n      <button\n        class={{cn @class}}\n        data-slot=\"alert-dialog-trigger\"\n        type=\"button\"\n        {{on \"click\" this.handleClick}}\n        ...attributes\n      >\n        {{yield}}\n      </button>\n    {{/if}}\n  </template>\n}\n\ninterface AlertDialogPortalSignature {\n  Blocks: {\n    default: [];\n  };\n}\n\nconst AlertDialogPortal: TOC<AlertDialogPortalSignature> = <template>\n  <div data-slot=\"alert-dialog-portal\">\n    {{yield}}\n  </div>\n</template>;\n\ninterface AlertDialogOverlaySignature {\n  Element: HTMLDivElement;\n  Args: {\n    class?: string;\n  };\n  Blocks: {\n    default: [];\n  };\n}\n\nclass AlertDialogOverlay extends Component<AlertDialogOverlaySignature> {\n  @consume(AlertDialogContext)\n  context!: ContextRegistry[typeof AlertDialogContext];\n\n  handleAnimationEnd = (event: AnimationEvent) => {\n    if (event.target === event.currentTarget && !this.context.open) {\n      this.context.finishClose();\n    }\n  };\n\n  <template>\n    <div\n      class={{cn\n        \"data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50\"\n        @class\n      }}\n      data-slot=\"alert-dialog-overlay\"\n      data-state={{if this.context.open \"open\" \"closed\"}}\n      {{on \"animationend\" this.handleAnimationEnd}}\n      ...attributes\n    ></div>\n  </template>\n}\n\ninterface AlertDialogContentSignature {\n  Element: HTMLDivElement;\n  Args: {\n    class?: string;\n  };\n  Blocks: {\n    default: [];\n  };\n}\n\nclass AlertDialogContent extends Component<AlertDialogContentSignature> {\n  @consume(AlertDialogContext)\n  context!: ContextRegistry[typeof AlertDialogContext];\n\n  get destinationElement() {\n    return document.body;\n  }\n\n  scrollLock = modifier(\n    (_element, _positional, { enabled = true }: { enabled?: boolean } = {}) => {\n      if (!enabled) {\n        return;\n      }\n\n      document.body.classList.add('overflow-hidden');\n\n      return () => {\n        document.body.classList.remove('overflow-hidden');\n      };\n    }\n  );\n\n  handleOverlayClick = (event: MouseEvent) => {\n    event.stopPropagation();\n  };\n\n  handleKeyDown = (event: KeyboardEvent) => {\n    if (event.key === 'Escape') {\n      this.context.setOpen(false);\n    }\n  };\n\n  handleAnimationEnd = (event: AnimationEvent) => {\n    if (event.target === event.currentTarget && !this.context.open) {\n      this.context.finishClose();\n    }\n  };\n\n  <template>\n    {{#if this.context.isRendered}}\n      {{#in-element this.destinationElement insertBefore=null}}\n        <AlertDialogOverlay />\n        <div\n          aria-modal=\"true\"\n          class={{cn\n            \"bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg\"\n            @class\n          }}\n          data-slot=\"alert-dialog-content\"\n          data-state={{if this.context.open \"open\" \"closed\"}}\n          role=\"alertdialog\"\n          tabindex=\"-1\"\n          {{on \"animationend\" this.handleAnimationEnd}}\n          {{on \"click\" this.handleOverlayClick}}\n          {{on \"keydown\" this.handleKeyDown}}\n          {{this.scrollLock enabled=this.context.open}}\n          ...attributes\n        >\n          {{yield}}\n        </div>\n      {{/in-element}}\n    {{/if}}\n  </template>\n}\n\ninterface AlertDialogHeaderSignature {\n  Element: HTMLDivElement;\n  Args: {\n    class?: string;\n  };\n  Blocks: {\n    default: [];\n  };\n}\n\nconst AlertDialogHeader: TOC<AlertDialogHeaderSignature> = <template>\n  <div\n    class={{cn \"flex flex-col gap-2 text-center sm:text-left\" @class}}\n    data-slot=\"alert-dialog-header\"\n    ...attributes\n  >\n    {{yield}}\n  </div>\n</template>;\n\ninterface AlertDialogFooterSignature {\n  Element: HTMLDivElement;\n  Args: {\n    class?: string;\n  };\n  Blocks: {\n    default: [];\n  };\n}\n\nconst AlertDialogFooter: TOC<AlertDialogFooterSignature> = <template>\n  <div\n    class={{cn \"flex flex-col-reverse gap-2 sm:flex-row sm:justify-end\" @class}}\n    data-slot=\"alert-dialog-footer\"\n    ...attributes\n  >\n    {{yield}}\n  </div>\n</template>;\n\ninterface AlertDialogTitleSignature {\n  Element: HTMLHeadingElement;\n  Args: {\n    class?: string;\n  };\n  Blocks: {\n    default: [];\n  };\n}\n\nconst AlertDialogTitle: TOC<AlertDialogTitleSignature> = <template>\n  <h2\n    class={{cn \"text-lg font-semibold\" @class}}\n    data-slot=\"alert-dialog-title\"\n    ...attributes\n  >\n    {{yield}}\n  </h2>\n</template>;\n\ninterface AlertDialogDescriptionSignature {\n  Element: HTMLParagraphElement;\n  Args: {\n    class?: string;\n  };\n  Blocks: {\n    default: [];\n  };\n}\n\nconst AlertDialogDescription: TOC<AlertDialogDescriptionSignature> = <template>\n  <p\n    class={{cn \"text-muted-foreground text-sm\" @class}}\n    data-slot=\"alert-dialog-description\"\n    ...attributes\n  >\n    {{yield}}\n  </p>\n</template>;\n\ninterface AlertDialogActionSignature {\n  Element: HTMLButtonElement;\n  Args: {\n    class?: string;\n  };\n  Blocks: {\n    default: [];\n  };\n}\n\nclass AlertDialogAction extends Component<AlertDialogActionSignature> {\n  @consume(AlertDialogContext)\n  context!: ContextRegistry[typeof AlertDialogContext];\n\n  handleClick = () => {\n    this.context.setOpen(false);\n  };\n\n  <template>\n    <button\n      class={{cn\n        \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive bg-primary text-primary-foreground hover:bg-primary/90 h-9 px-4 py-2\"\n        @class\n      }}\n      data-slot=\"alert-dialog-action\"\n      type=\"button\"\n      {{on \"click\" this.handleClick}}\n      ...attributes\n    >\n      {{yield}}\n    </button>\n  </template>\n}\n\ninterface AlertDialogCancelSignature {\n  Element: HTMLButtonElement;\n  Args: {\n    class?: string;\n  };\n  Blocks: {\n    default: [];\n  };\n}\n\nclass AlertDialogCancel extends Component<AlertDialogCancelSignature> {\n  @consume(AlertDialogContext)\n  context!: ContextRegistry[typeof AlertDialogContext];\n\n  handleClick = () => {\n    this.context.setOpen(false);\n  };\n\n  <template>\n    <button\n      class={{cn\n        \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50 h-9 px-4 py-2\"\n        @class\n      }}\n      data-slot=\"alert-dialog-cancel\"\n      type=\"button\"\n      {{on \"click\" this.handleClick}}\n      ...attributes\n    >\n      {{yield}}\n    </button>\n  </template>\n}\n\nexport {\n  AlertDialog,\n  AlertDialogTrigger,\n  AlertDialogPortal,\n  AlertDialogOverlay,\n  AlertDialogContent,\n  AlertDialogHeader,\n  AlertDialogFooter,\n  AlertDialogTitle,\n  AlertDialogDescription,\n  AlertDialogAction,\n  AlertDialogCancel,\n};\n",
      "type": "registry:ui"
    }
  ]
}
