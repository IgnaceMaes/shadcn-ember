{
  "$schema": "https://shadcn-ember.com/schema/registry-item.json",
  "name": "toggle-group",
  "type": "registry:ui",
  "dependencies": [
    "@ember/modifier",
    "@glimmer/component",
    "@glimmer/tracking",
    "ember-provide-consume-context"
  ],
  "registryDependencies": ["toggle"],
  "files": [
    {
      "path": "registry/new-york-v4/ui/toggle-group.gts",
      "content": "import { concat } from '@ember/helper';\nimport { on } from '@ember/modifier';\nimport { htmlSafe } from '@ember/template';\nimport Component from '@glimmer/component';\nimport { tracked } from '@glimmer/tracking';\nimport { provide, consume } from 'ember-provide-consume-context';\n\nimport { toggleVariants } from '@/components/ui/toggle';\nimport { cn } from '@/lib/utils';\n\ntype Variant = 'default' | 'outline';\ntype Size = 'default' | 'sm' | 'lg';\n\nconst ToggleGroupContext = 'toggle-group-context' as const;\n\ninterface ToggleGroupContextValue {\n  variant?: Variant;\n  size?: Size;\n  spacing?: number;\n  value: string | string[];\n  toggleValue: (value: string) => void;\n  disabled?: boolean;\n}\n\ninterface ContextRegistry {\n  [ToggleGroupContext]: ToggleGroupContextValue;\n}\n\ninterface ToggleGroupSignature {\n  Element: HTMLDivElement;\n  Args: {\n    type?: 'single' | 'multiple';\n    value?: string | string[];\n    defaultValue?: string | string[];\n    onValueChange?: (value: string | string[]) => void;\n    disabled?: boolean;\n    variant?: Variant;\n    size?: Size;\n    spacing?: number;\n    class?: string;\n  };\n  Blocks: {\n    default: [];\n  };\n}\n\nclass ToggleGroup extends Component<ToggleGroupSignature> {\n  @tracked internalValue?: string | string[];\n\n  get value() {\n    return (\n      this.args.value ??\n      this.internalValue ??\n      this.args.defaultValue ??\n      (this.type === 'multiple' ? [] : '')\n    );\n  }\n\n  get type() {\n    return this.args.type ?? 'single';\n  }\n\n  get spacing() {\n    return this.args.spacing ?? 0;\n  }\n\n  @provide(ToggleGroupContext)\n  get contextValue(): ToggleGroupContextValue {\n    return {\n      variant: this.args.variant,\n      size: this.args.size,\n      spacing: this.spacing,\n      value: this.value,\n      toggleValue: this.toggleValue,\n      disabled: this.args.disabled,\n    };\n  }\n\n  toggleValue = (itemValue: string) => {\n    if (this.args.disabled) return;\n\n    let newValue: string | string[];\n\n    if (this.type === 'multiple') {\n      const currentValues = Array.isArray(this.value) ? this.value : [];\n      if (currentValues.includes(itemValue)) {\n        newValue = currentValues.filter((v) => v !== itemValue);\n      } else {\n        newValue = [...currentValues, itemValue];\n      }\n    } else {\n      newValue = this.value === itemValue ? '' : itemValue;\n    }\n\n    this.internalValue = newValue;\n    this.args.onValueChange?.(newValue);\n  };\n\n  isPressed = (itemValue: string): boolean => {\n    if (this.type === 'multiple') {\n      return Array.isArray(this.value) && this.value.includes(itemValue);\n    }\n    return this.value === itemValue;\n  };\n\n  <template>\n    <div\n      class={{cn\n        \"group/toggle-group flex w-fit items-center gap-[--spacing(var(--gap))] rounded-md data-[spacing=default]:data-[variant=outline]:shadow-xs\"\n        @class\n      }}\n      data-size={{@size}}\n      data-slot=\"toggle-group\"\n      data-spacing={{this.spacing}}\n      data-variant={{@variant}}\n      role=\"group\"\n      style={{htmlSafe (concat \"--gap: \" this.spacing \";\")}}\n      ...attributes\n    >\n      {{yield}}\n    </div>\n  </template>\n}\n\ninterface ToggleGroupItemSignature {\n  Element: HTMLButtonElement;\n  Args: {\n    value: string;\n    variant?: Variant;\n    size?: Size;\n    disabled?: boolean;\n    class?: string;\n  };\n  Blocks: {\n    default: [];\n  };\n}\n\nclass ToggleGroupItem extends Component<ToggleGroupItemSignature> {\n  @consume(ToggleGroupContext)\n  context!: ContextRegistry[typeof ToggleGroupContext];\n\n  get variant(): Variant | undefined {\n    return this.context?.variant ?? this.args.variant;\n  }\n\n  get size(): Size | undefined {\n    return this.context?.size ?? this.args.size;\n  }\n\n  get spacing(): number {\n    return this.context?.spacing ?? 0;\n  }\n\n  get isDisabled(): boolean {\n    return this.args.disabled ?? this.context?.disabled ?? false;\n  }\n\n  get pressed(): boolean {\n    const contextValue = this.context?.value;\n    if (Array.isArray(contextValue)) {\n      return contextValue.includes(this.args.value);\n    }\n    return contextValue === this.args.value;\n  }\n\n  handleClick = () => {\n    if (!this.isDisabled) {\n      this.context?.toggleValue(this.args.value);\n    }\n  };\n\n  get classes() {\n    return cn(\n      toggleVariants(this.variant ?? 'default', this.size ?? 'default'),\n      'w-auto min-w-0 shrink-0 px-3 focus:z-10 focus-visible:z-10',\n      'data-[spacing=\"0\"]:rounded-none data-[spacing=\"0\"]:shadow-none data-[spacing=\"0\"]:first:rounded-l-md data-[spacing=\"0\"]:last:rounded-r-md data-[spacing=\"0\"]:data-[variant=outline]:border-l-0 data-[spacing=\"0\"]:data-[variant=outline]:first:border-l',\n      this.args.class\n    );\n  }\n\n  <template>\n    <button\n      aria-pressed={{this.pressed}}\n      class={{this.classes}}\n      data-size={{this.size}}\n      data-slot=\"toggle-group-item\"\n      data-spacing={{this.spacing}}\n      data-state={{if this.pressed \"on\" \"off\"}}\n      data-variant={{this.variant}}\n      disabled={{this.isDisabled}}\n      type=\"button\"\n      {{on \"click\" this.handleClick}}\n      ...attributes\n    >\n      {{yield}}\n    </button>\n  </template>\n}\n\nexport { ToggleGroup, ToggleGroupItem };\n",
      "type": "registry:ui"
    }
  ]
}
